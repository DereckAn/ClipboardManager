<Window x:Class="BasicClipboardApp.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:BasicClipboardApp"
        mc:Ignorable="d"
        Title="Mi Historial Clipboard"
        Height="450"
        SourceInitialized="Window_SourceInitialized"
        Closing="Window_Closing"
        StateChanged="Window_StateChanged"
        Background="#AA000000"
        AllowsTransparency="True"
        WindowStyle="None"
        TextElement.Foreground="White" 
        MouseLeftButtonDown="Window_MouseLeftButtonDown" 
    >

    
    

    <Border BorderBrush="#55FFFFFF" BorderThickness="1" CornerRadius="5" Margin="5">
       
        <StackPanel Margin="10">

            
            <Label Content="Historial del Portapapeles:" FontWeight="Bold" Margin="0,0,0,5" Foreground="White"/>

            <ListBox x:Name="HistoryListBox"
                     Background="Transparent"  
                BorderThickness="0"
                              Height="380"
               
                Visibility="Visible"
                     HorizontalAlignment="Stretch"
                     ItemsSource="{Binding ClipboardHistoryUI}"
                     SelectionChanged="HistoryListBox_SelectionChanged"
                     ScrollViewer.HorizontalScrollBarVisibility="Disabled">
              
                <ListBox.ItemTemplate>
                    <DataTemplate>
                        <!-- NUEVO: Border alrededor de cada item para darle fondo blanco -->
                        <Border Background="White" CornerRadius="3" Margin="2" Padding="5" MinHeight="30">
                            <TextBlock Text="{Binding}"
                                       TextWrapping="Wrap"
                                       Foreground="Black" 
                                       VerticalAlignment="Center"/>
                                       
                        </Border>
                    </DataTemplate>
                </ListBox.ItemTemplate>
                <!-- Opcional: Para quitar el efecto de selección azul por defecto si no te gusta con la transparencia -->
                <ListBox.ItemContainerStyle>
                    <Style TargetType="ListBoxItem">
                        <Setter Property="Template">
                            <Setter.Value>
                                <ControlTemplate TargetType="ListBoxItem">
                                    <ContentPresenter />
                                </ControlTemplate>
                            </Setter.Value>
                        </Setter>
                        <!-- Para un feedback visual al pasar el mouse o seleccionar, puedes añadir Triggers aquí -->
                        <Style.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter Property="Effect">
                                    <Setter.Value>
                                        <DropShadowEffect ShadowDepth="0" Color="LightGray" Opacity="0.5" BlurRadius="5"/>
                                    </Setter.Value>
                                </Setter>
                            </Trigger>
                            <Trigger Property="IsSelected" Value="True">
                                <Setter Property="Effect">
                                    <Setter.Value>
                                        <DropShadowEffect ShadowDepth="0" Color="CornflowerBlue" Opacity="0.7" BlurRadius="8"/>
                                    </Setter.Value>
                                </Setter>
                            </Trigger>
                        </Style.Triggers>
                    </Style>
                </ListBox.ItemContainerStyle>
            </ListBox>
        </StackPanel>
    </Border>
</Window>